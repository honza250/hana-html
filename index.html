<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hana Perutková – Služby</title>
  <meta name="description" content="Fyzioterapie koní, přeprava koní a výuka nastupování. Profesionální péče s respektem ke zvířeti." />
  <meta name="color-scheme" content="light dark" />
  <meta property="og:title" content="Hana Perutková – Služby" />
  <meta property="og:description" content="Fyzioterapie koní, převoz koní a další služby." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/og-image.jpg" />
  <meta name="theme-color" content="#4ECDC4" />
  <link rel="icon" href="favicon.svg" />
  <link rel="stylesheet" href="style.css" />
  <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"Person",
      "name":"Hana Perutková",
      "url":"https://moje-domena.cz",
      "image":"https://moje-domena.cz/og-image.jpg",
      "jobTitle":"Fyzioterapeutka koní, přeprava koní",
      "sameAs":["https://www.instagram.com/tvoje_handle","https://www.facebook.com/tvoje_handle"],
      "knowsAbout":["equine physiotherapy","horse transport"],
      "address":{"@type":"PostalAddress","addressLocality":"Region / Kraj"}
    }
  </script>
</head>
<body>
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="#top">
        <span class="logo" aria-hidden="true">HP</span>
        <span>Hana Perutková</span>
      </a>
      <nav aria-label="Hlavní navigace" class="main-nav">
        <div class="nav-item dropdown">
          <a href="#sluzby" class="nav-link">Služby 
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="dropdown-arrow">
              <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </a>
          <div class="dropdown-menu">
            <a href="fyzioterapie-koni.html" class="dropdown-item">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 12l5 5L20 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <span>Fyzioterapie koní</span>
            </a>
            <a href="preprava-koni.html" class="dropdown-item">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M3 7h11l4 4h3v6h-2m-2 0a2 2 0 11-4 0m-6 0a2 2 0 11-4 0" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <span>Přeprava koní</span>
            </a>
            <a href="vyuka-nastupovani.html" class="dropdown-item">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 6v12M9 12l3 3 3-3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <span>Výuka nastupování</span>
            </a>
          </div>
        </div>
        <a href="#o-mne" class="nav-link">O mně</a>
        <a href="#kontakt" class="nav-link">Kontakt</a>
      </nav>
      <button id="theme-toggle" aria-label="Přepnout tmavý/světlý režim" title="Přepnout tmavý/světlý režim">
        <svg id="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/>
          <path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M4.93 19.07l1.41-1.41m11.32-11.32l1.41-1.41" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <svg id="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: none;">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </header>

  <main id="top">
    <section class="hero hero-with-bg" aria-label="Úvod">
      <div class="hero-overlay"></div>
      <div class="container hero-container">
        <div class="hero-content">
          <h1 class="hero-title">Mé služby, váš spokojený kůň</h1>
          <p class="lead hero-text">
            Každý kůň je osobnost. Má svůj příběh, svou povahu i své tempo. Věřím, že klid, trpělivost a porozumění jsou základem skutečné spolupráce mezi člověkem a koněm. Vše, co dělám, vychází z respektu, klidu a lásky ke koním — protože spokojený kůň je tím nejlepším důkazem správné životní cesty.
          </p>
          <div class="cta">
            <a class="btn btn-primary" href="#sluzby">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Prohlédnout služby
            </a>
            <a class="btn btn-outline hero-btn-outline" href="#kontakt">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M21 10c0 6-9 12-9 12S3 16 3 10a9 9 0 1118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Zavolat / napsat
            </a>
          </div>
        </div>
      </div>
    </section>

    <section id="sluzby" class="section">
      <div class="container">
        <h2>Služby</h2>
        <div class="grid" role="list">

          <!-- Ošetření pohybového aparátu koní -->
          <article class="card" role="listitem" data-href="fyzioterapie-koni.html">
            <div class="chip" aria-label="Kategorie">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 12l5 5L20 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Fyzioterapie
            </div>
            <h3>Ošetření pohybového aparátu koní</h3>
            <p>Ošetření koní pro zlepšení fyzické a psychické kondice, prevenci zranění, rehabilitaci po zranění a zvýšení výkonu koní.</p>
            <ul class="muted">
              <li>Individuální přístup ke každému koni</li>
              <li>Masáž, strečink, mobilizace, kinesiotaping</li>
              <li>Kontrola sedla a instruktáž majitele</li>
              <li><strong>Ceník: 2000 Kč za koně</strong> (cestovné v ceně)</li>
            </ul>
            <div class="cta">
              <a class="btn btn-primary" href="fyzioterapie-koni.html">Více informací</a>
              <a class="btn btn-outline" href="#kontakt">Kontaktovat</a>
            </div>
          </article>

          <!-- Profesionální přeprava koní -->
          <article class="card" role="listitem" data-href="preprava-koni.html">
            <div class="chip">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M3 7h11l4 4h3v6h-2m-2 0a2 2 0 11-4 0m-6 0a2 2 0 11-4 0" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Přeprava
            </div>
            <h3>Profesionální přeprava koní</h3>
            <p>Bezpečně, pohodlně a klidně, jak pro vaše koně, tak i pro vás jako majitele. Nissan Pathfinder 4x4 + dvoumístný přívěs s kamerovým systémem.</p>
            <ul class="muted">
              <li>Protiskluzové podlahy, panic systém</li>
              <li>Registrace: CZ 51D10045</li>
              <li><strong>Ceník: 18 Kč/km</strong> (vč. přístavných km)</li>
              <li>Čekací doba: 200 Kč/h | Nakládání: 300 Kč/h</li>
            </ul>
            <div class="cta">
              <a class="btn btn-primary" href="preprava-koni.html">Více informací</a>
              <a class="btn btn-outline" href="#kontakt">Kontaktovat</a>
            </div>
          </article>

          <!-- Výuka nastupování problémových koní -->
          <article class="card" role="listitem" data-href="vyuka-nastupovani.html">
            <div class="chip">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 6v12M9 12l3 3 3-3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Výuka
            </div>
            <h3>Výuka nastupování problémových koní</h3>
            <p>Naučím vašeho koně ochotně a rychle nastupovat, ať máte jistotu i v krizových situacích – akutní převoz na kliniku.</p>
            <ul class="muted">
              <li>Nácvik bez časového tlaku</li>
              <li>Můžu přijet s vlastním nebo využijeme váš přívěs</li>
              <li>Asistence majiteli nebo samostatná práce</li>
              <li><strong>Ceník:</strong> Individuální domluva + doprava</li>
            </ul>
            <div class="cta">
              <a class="btn btn-primary" href="vyuka-nastupovani.html">Více informací</a>
              <a class="btn btn-outline" href="#kontakt">Kontaktovat</a>
            </div>
          </article>

        </div>
      </div>
    </section>

    <section id="o-mne" class="section">
      <div class="container">
        <h2>O mně</h2>
        <div style="display: grid; grid-template-columns: 1fr auto; gap: 3rem; align-items: start; margin-top: 2rem;">
          <!-- Left: Text content and timeline -->
          <div>
            <p>
              Jmenuji se Hana Perutková, bydlím blízko České Lípy (Liberecký kraj). Kolem koní se pohybuji přes 10 let, postupem času jsem získala a stále získávám spoustu cenných zkušeností s nejrůznějšími typy koní a jejich výcvikem. Neustále se vzdělávám v oborech týkajících se koní.
            </p>
            <p>
              Ošetření pohybového aparátu koní se věnuji od roku 2025, kdy jsem úspěšně složila zkoušky pod Asociací fyzioterapie a rehabilitace zvířat České republiky, čímž jsem získala titul <strong>CertCAAPR</strong>. Přepravou koní se zabývám od roku 2024, kdy jsem získala všechna potřebná oprávnění (registrace: <strong>CZ 51D10045</strong>). Při přepravě vždy dbám především na komfort vašich koní.
            </p>
            
            <h3 style="margin-top: 2rem;">Vzdělání a certifikace</h3>
            
            <div style="margin-top: 1rem;">
              <p><strong>2025</strong></p>
              <ul class="muted">
                <li>Kurz Fyzioterapie a rehabilitace koní pod Asociací fyzioterapie a rehabilitace zvířat ČR, titul CertCAAPR</li>
                <li>Praxe v Centru rehabilitace koní Kolesa</li>
                <li>Praxe s Mvdr. Eliškou Punčochářovou PhD.</li>
              </ul>
            </div>
            
            <div style="margin-top: 1rem;">
              <p><strong>2024</strong></p>
              <ul class="muted">
                <li>Školení MLS laserová terapie u koní</li>
                <li>Kurz pro dopravce přepravující zvířata</li>
                <li>Kurz bezpečné přepravy a nakládání koní</li>
                <li>Kurz manipulace s koňmi v krizových situacích</li>
              </ul>
            </div>
            
            <div style="margin-top: 1rem;">
              <p><strong>2023</strong></p>
              <ul class="muted">
                <li>Získání ZZVJ licence</li>
                <li>Kurz lepení podkov Goodsmith a pasování bot Goodsmith</li>
              </ul>
            </div>
            
            <div style="margin-top: 1rem;">
              <p><strong>2022</strong></p>
              <ul class="muted">
                <li>Kurz Výživa koní - Ing. Monika Mechová</li>
                <li>Kurz lepení podkov Turfcord</li>
              </ul>
            </div>
          </div>
          
          <!-- Right: Photo and Carousel stacked (constrained to half page) -->
          <div style="width: 400px;">
            <!-- Photo -->
            <img src="public/hana-fotky-web/Hana.png" alt="Hana Perutková" style="width: 100%; object-fit: contain; border-radius: 20px; box-shadow: 0 10px 40px -10px rgba(0,0,0,0.2); margin-bottom: 2rem;">
            
            <!-- Certificate Carousel -->
            <div style="position: relative; background: var(--card); border-radius: 12px; padding: 1rem; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
              <p style="text-align: center; margin-bottom: 1rem; font-weight: 600;">Certifikáty</p>
              
              <!-- Carousel Container -->
              <div id="cert-carousel" style="position: relative; overflow: hidden; border-radius: 8px;">
                <div id="cert-track" style="display: flex; transition: transform 0.4s ease;">
                  <img src="public/hana-certifikaty-zasilka-TPINK67YKMFFJJPR/certCAAPR.jpg" alt="CertCAAPR" style="min-width: 100%; height: 300px; object-fit: contain;">
                  <img src="public/hana-certifikaty-zasilka-TPINK67YKMFFJJPR/goodsmith.jpg" alt="Goodsmith" style="min-width: 100%; height: 300px; object-fit: contain;">
                  <img src="public/hana-certifikaty-zasilka-TPINK67YKMFFJJPR/turfcord.jpg" alt="Turfcord" style="min-width: 100%; height: 300px; object-fit: contain;">
                  <img src="public/hana-certifikaty-zasilka-TPINK67YKMFFJJPR/vycvik_jezdce.jpg" alt="Výcvik jezdce" style="min-width: 100%; height: 300px; object-fit: contain;">
                  <img src="public/hana-certifikaty-zasilka-TPINK67YKMFFJJPR/zpusobilost_ridice.jpg" alt="Způsobilost řidiče" style="min-width: 100%; height: 300px; object-fit: contain;">
                </div>
                
                <!-- Previous Button -->
                <button id="cert-prev" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.5); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; font-size: 1.2rem; display: flex; align-items: center; justify-content: center;">‹</button>
                
                <!-- Next Button -->
                <button id="cert-next" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.5); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; font-size: 1.2rem; display: flex; align-items: center; justify-content: center;">›</button>
              </div>
              
              <!-- Dots Indicators -->
              <div id="cert-dots" style="display: flex; justify-content: center; gap: 8px; margin-top: 1rem;">
                <span class="cert-dot" data-index="0" style="width: 10px; height: 10px; border-radius: 50%; background: var(--brand); cursor: pointer;"></span>
                <span class="cert-dot" data-index="1" style="width: 10px; height: 10px; border-radius: 50%; background: var(--muted); cursor: pointer;"></span>
                <span class="cert-dot" data-index="2" style="width: 10px; height: 10px; border-radius: 50%; background: var(--muted); cursor: pointer;"></span>
                <span class="cert-dot" data-index="3" style="width: 10px; height: 10px; border-radius: 50%; background: var(--muted); cursor: pointer;"></span>
                <span class="cert-dot" data-index="4" style="width: 10px; height: 10px; border-radius: 50%; background: var(--muted); cursor: pointer;"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="kontakt" class="section" aria-label="Kontakt">
      <div class="container">
        <h2>Kontakt</h2>
        <div class="grid">
          <div class="card">
            <h3>Osobní údaje</h3>
            <p class="muted">Hana Perutková</p>
            <p class="muted">Komenského 46, Mimoň, 471 24</p>
            <p class="muted">Liberecký kraj</p>
            <p class="muted">IČO: 21291152</p>
          </div>
          <div class="card">
            <h3>Kontaktní údaje</h3>
            <div style="display: flex; flex-direction: column; gap: 1rem;">
              <div>
                <strong>Telefon:</strong><br>
                <a href="tel:+420776245040" style="font-size: 1.1rem; margin: 4px 0; display: inline-block;">+420 776 245 040</a>
                <button onclick="copyToClipboard('+420776245040', this)" style="margin-left: 8px; padding: 6px 12px; border-radius: 8px; border: 1px solid var(--brand); background: transparent; color: var(--brand); cursor: pointer; font-size: 14px; transition: all 0.3s ease;" onmouseover="this.style.background='var(--brand)'; this.style.color='white';" onmouseout="this.style.background='transparent'; this.style.color='var(--brand)';">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 4px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  Kopírovat
                </button>
              </div>
              <div>
                <strong>E‑mail:</strong><br>
                <a href="mailto:perutkovah@seznam.cz" style="font-size: 1.1rem; margin: 4px 0; display: inline-block;">perutkovah@seznam.cz</a>
                <button onclick="copyToClipboard('perutkovah@seznam.cz', this)" style="margin-left: 8px; padding: 6px 12px; border-radius: 8px; border: 1px solid var(--brand); background: transparent; color: var(--brand); cursor: pointer; font-size: 14px; transition: all 0.3s ease;" onmouseover="this.style.background='var(--brand)'; this.style.color='white';" onmouseout="this.style.background='transparent'; this.style.color='var(--brand)';">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 4px;">
                    <rect x="9" y="9" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/>
                    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  Kopírovat
                </button>
              </div>
              <div class="muted">
                <strong>Provozní doba:</strong> dle dohody
              </div>
            </div>
          </div>
          <div class="card">
            <h3>Sociální sítě</h3>
            <p class="inline-list">
              <a href="#" aria-label="Facebook">Facebook: Hana Perutková Cert CAAPR</a>
            </p>
            <p class="muted" style="margin-top: 1rem;">
              <strong>Certifikace:</strong><br>
              CertCAAPR - Fyzioterapie koní<br>
              Dopravce: CZ 51D10045
            </p>
          </div>
        </div>
        
        <!-- Google Maps -->
        <div style="margin-top: 3rem;">
          <h3 style="margin-bottom: 1rem;">Kde mě najdete</h3>
          <div style="border-radius: 18px; overflow: hidden; box-shadow: 0 10px 30px -20px rgba(0, 0, 0, .45);">
            <iframe 
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2513.8!2d14.7341!3d50.6631!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4709f2e0a0a0a0a0%3A0xa0a0a0a0a0a0a0a0!2sKomenského 46, 471 24 Mimoň!5e0!3m2!1scs!2scz!4v1234567890"
              width="100%" 
              height="400" 
              style="border:0;" 
              allowfullscreen="" 
              loading="lazy" 
              referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="inline-list">
        <span>© <span id="year"></span> Hana Perutková</span>
        <a href="#top">Nahoru ↑</a>
      </div>
    </div>
  </footer>

  <script>
    // Theme toggle functionality
    const themeToggle = document.getElementById('theme-toggle');
    const sunIcon = document.getElementById('sun-icon');
    const moonIcon = document.getElementById('moon-icon');
    const root = document.documentElement;

    // Check for saved theme preference or default to system preference
    const savedTheme = localStorage.getItem('theme');
    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const currentTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');

    // Apply initial theme
    function setTheme(theme) {
      root.classList.remove('light-theme', 'dark-theme');
      root.classList.add(`${theme}-theme`);
      
      // Toggle icon visibility
      if (theme === 'dark') {
        sunIcon.style.display = 'none';
        moonIcon.style.display = 'block';
      } else {
        sunIcon.style.display = 'block';
        moonIcon.style.display = 'none';
      }
      
      localStorage.setItem('theme', theme);
    }

    // Set initial theme
    setTheme(currentTheme);

    // Toggle theme on button click
    themeToggle.addEventListener('click', () => {
      const newTheme = root.classList.contains('dark-theme') ? 'light' : 'dark';
      setTheme(newTheme);
    });

    // Auto-hide navigation on scroll
    let lastScroll = window.pageYOffset;
    const header = document.querySelector('header.nav');
    const dropdown = document.querySelector('.nav-item.dropdown');
    let isDropdownOpen = false;
    
    // Dropdown click toggle for mobile
    const dropdownLink = dropdown?.querySelector('.nav-link');
    if (dropdownLink) {
      dropdownLink.addEventListener('click', (e) => {
        e.preventDefault(); // Prevent navigation to #sluzby
        isDropdownOpen = !isDropdownOpen;
        dropdown.classList.toggle('dropdown-active', isDropdownOpen);
      });
    }
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (dropdown && !dropdown.contains(e.target) && isDropdownOpen) {
        isDropdownOpen = false;
        dropdown.classList.remove('dropdown-active');
      }
    });
    
    let ticking = false;
    
    window.addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          const currentScroll = window.pageYOffset;
          
          console.log('Scroll:', currentScroll, 'Last:', lastScroll, 'Direction:', currentScroll > lastScroll ? 'down' : 'up');
          
          // Don't hide menu if dropdown is open
          if (isDropdownOpen) {
            lastScroll = currentScroll;
            ticking = false;
            return;
          }
          
          // Scrolling down
          if (currentScroll > lastScroll && currentScroll > 100) {
            console.log('Hiding menu');
            header.classList.add('nav-hidden');
          } 
          // Scrolling up
          else if (currentScroll < lastScroll) {
            console.log('Showing menu');
            header.classList.remove('nav-hidden');
          }
          
          lastScroll = currentScroll;
          ticking = false;
        });
        
        ticking = true;
      }
    });

    // Certificate Carousel
    let currentSlide = 0;
    const track = document.getElementById('cert-track');
    const dots = document.querySelectorAll('.cert-dot');
    const totalSlides = 5;

    function goToSlide(index) {
      currentSlide = index;
      track.style.transform = `translateX(-${index * 100}%)`;
      
      // Update dots
      dots.forEach((dot, i) => {
        dot.style.background = i === index ? 'var(--brand)' : 'var(--muted)';
      });
    }

    document.getElementById('cert-prev').addEventListener('click', () => {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      goToSlide(currentSlide);
    });

    document.getElementById('cert-next').addEventListener('click', () => {
      currentSlide = (currentSlide + 1) % totalSlides;
      goToSlide(currentSlide);
    });

    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        goToSlide(index);
      });
    });

    // Existing scripts
    document.querySelectorAll('.card').forEach(card => {
      card.addEventListener('click', e => {
        if(!e.target.closest('.cta a')) {
          const url = card.dataset.href || card.querySelector('.btn-primary')?.href;
          if(url) window.location.href = url;
        }
      });
    });

    document.addEventListener('click', (e) => {
      const a = e.target.closest('a[href^="#"]');
      if(!a) return;
      const id = a.getAttribute('href').slice(1);
      const el = document.getElementById(id);
      if(el){
        e.preventDefault();
        el.scrollIntoView({behavior:'smooth', block:'start'});
        history.pushState(null, '', '#' + id);
      }
    });

    const d = new Date();
    document.getElementById('today').textContent = d.toLocaleDateString('cs-CZ');
    document.getElementById('year').textContent = d.getFullYear();

    const form = document.getElementById('form');
    form?.addEventListener('submit', (e) => {
      const data = new FormData(form);
      const subject = encodeURIComponent('Poptávka: ' + (data.get('Služba') || 'Služba'));
      const body = [...data.entries()].map(([k,v]) => `${k}: ${v}`).join('%0D%0A');
      form.action = `mailto:perutkovah@seznam.cz?subject=${subject}&body=${body}`;
    });

    document.querySelectorAll('input, select, textarea').forEach(el => {
      el.style.width='100%';
      el.style.padding='10px 12px';
      el.style.marginTop='6px';
      el.style.borderRadius='12px';
      el.style.border='1px solid color-mix(in oklab, var(--muted) 25%, transparent)';
      el.addEventListener('focus', () => el.style.boxShadow=`0 0 0 6px var(--ring)`);
      el.addEventListener('blur', () => el.style.boxShadow='none');
      el.style.background='var(--card)'; 
      el.style.color='var(--text)';
    });

    // Copy to clipboard function
    function copyToClipboard(text, button) {
      navigator.clipboard.writeText(text).then(() => {
        const originalHTML = button.innerHTML;
        button.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 4px;"><path d="M20 6L9 17l-5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg> Zkopírováno!';
        button.style.background = 'var(--brand)';
        button.style.color = 'white';
        button.style.borderColor = 'var(--brand)';
        setTimeout(() => {
          button.innerHTML = originalHTML;
          button.style.background = 'transparent';
          button.style.color = 'var(--brand)';
          button.style.borderColor = 'var(--brand)';
        }, 2000);
      }).catch(err => {
        console.error('Chyba při kopírování:', err);
        alert('Nepodařilo se zkopírovat do schránky');
      });
    }
  </script>
</body>
</html>
